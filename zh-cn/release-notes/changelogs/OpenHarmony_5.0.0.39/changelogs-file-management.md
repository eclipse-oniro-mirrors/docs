# 文件子系统Changelog

## file-access-across-devices 接口行为变更

**访问级别**

公开接口

**变更原因**

分布式文件业务在检测到可信设备连接同一个WiFi会自动触发建链，但该规格存在以下两个问题：

1.只适用于同WiFi设备场景，不同WiFi间无法建链，导致分布式文件业务无法使用。

2.自动建链功能也存在功耗开销，即使用户不使用分布式文件功能，但链路一直存在。

鉴于以上两个原因，需要在新版本上对该规格进行整改。

**变更影响**

该变更为不兼容变更。

变更前：由分布式文件业务监测同WiFi可信设备并自动触发建链，应用无需主动建链，但仅适用同WiFi场景。

变更后：新增主动建链接口，由应用通过主动调用接口触发建链，适用于同WiFi和不同WiFi的场景。


**起始 API Level**

API11

**变更发生版本**

从OpenHarmony SDK 5.0.0.39版本开始。

**变更的接口/组件**

本次变更仅涉及新增以下接口：

| 名称              | 描述                                             |
|-----------------|------------------------------------------------|
| connectDfs(networkId: string, listeners: DfsListeners) | 应用调用该接口主动触发建链，执行结果通过DfsListeners回调内onStatus上报。 |

**适配指导**

应用使用新接口可以同时支持用同WiFi和不同WiFi场景下的跨设备文件访问能力，详见[跨设备文件访问](../../../application-dev/file-management/file-access-across-devices.md)


