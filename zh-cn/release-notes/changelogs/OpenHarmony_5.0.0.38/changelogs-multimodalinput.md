# 多模输入子系统变更说明

## cl.multimodalinput.1 oh_input_manager.h 文件中 OH_Input_GetKeyState 接口权限变更

**访问级别**

公开接口。

**变更原因**

根据安全要求规范，将按键状态查询接口可以查询的按键限定在不可输入按键范围内。

**变更影响**

该变更为非兼容性变更。
变更前：接口支持查询可输入按键和不可输入按键。
变更后：仅支持查询不可输入按键，查询可输入按键时会返回401错误码。

**起始API Level**

12

**变更发生的版本**

从OpenHarmony SDK 5.0.0.38开始。

**变更的接口**

| 接口声明 | 变更前 | 变更后 |
| ------------------------------------------------------------ | --------- | ------ |
| Input_Result OH_Input_GetKeyState(struct Input_KeyState* keyState); | 可以查询所有按键 | 只可以查询不可输入按键 |

**适配指导**

接口仅能用于不可输入按键的查询，可输入按键不能调用该接口。