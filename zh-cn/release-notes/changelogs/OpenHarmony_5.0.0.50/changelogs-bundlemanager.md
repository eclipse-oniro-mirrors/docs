# 包管理子系统Changelog

## cl.bundlemanager.1 禁止安装无代码签名的应用

**访问级别**

系统接口

**变更原因**

当前无代码签名的应用，在设备上可以安装，但是不可运行，违反了设备安装无代码签名应用的管控策略。

**变更影响**

该变更为不兼容变更。

变更前：
无代码签名的应用，可以安装，但不可以运行。

变更后：
无代码签名的应用，安装失败，相关安装接口将会返回错误码17700048。


**起始API Level**

API 13

**变更发生版本**

从OpenHarmony 5.0.0.50 版本开始。

**变更的接口/组件**

不涉及

**适配指导**

对应用进行代码签名后重试安装。

## cl.bundlemanager.2 安装新增对设备上已保留数据库卸载的应用签名一致性的校验

**访问级别**

系统接口

**变更原因**

如果某个应用被卸载但是保留了数据，那么后面安装相同包名的应用时，需要校验其身份信息的一致性。如果两者的appId和appIdentifier信息皆不一致，则会安装失败。

**变更影响**

该变更为不兼容变更。

变更前：
如果某个应用被卸载但是保留了数据，后面安装相同包名但身份信息不一致的应用时，安装成功。

变更后：
如果某个应用被卸载但是保留了数据，后面安装相同包名但身份信息不一致的应用时，安装失败，相关安装接口将会返回错误码17700073。


**起始API Level**

API 13

**变更发生版本**

从OpenHarmony 5.0.0.50 版本开始。

**变更的接口/组件**

不涉及

**适配指导**

如果某个应用被卸载但是保留了数据，后面安装相同包名但签名信息不一致的应用时，安装失败。如果出现这种情况，则需要把之前已卸载掉的应用重新安装之后，执行不保留数据地卸载，这样相同包名但签名信息不一致的应用才能安装成功。
